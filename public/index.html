
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Tone Literacy Plugin | Erica Vega</title>
  <script>
    async function classify(sentence) {
      const loader = document.getElementById('loadingSpinner');
      const box = document.getElementById('markdownDisplay');
      loader.style.display = 'inline-block';
      box.innerHTML = '<div class="loader"></div><p>語氣分析中，請稍候...</p>';
      try {
        const response = await fetch('/api/classify-tone', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ sentence })
        });
        const data = await response.json();
        const md = `
### 🧩 語氣分析結果

- **句子**: \`${sentence}\`
- **分級**: \`${data.tone_level}\`
- **解釋**: ${data.explanation}
- **幻覺風險**: \`${data.hallucination_risk}\`
- **建議修正**: _${data.revision_suggestion}_

---
> 本結果由 GPT 語氣分析模組自動生成。
        `.trim();
        box.innerText = md;
      } catch (e) {
        box.innerText = '⚠️ 無法連線至分析伺服器，請稍後再試。';
      } finally {
        loader.style.display = 'none';
      }
    }
  </script>
  <style>
    body {
      background-color: #0b0e11;
      color: #ffffff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    .header {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
      letter-spacing: 2px;
    }
    .note {
      color: #ff5f5f;
      font-size: 13px;
      margin-bottom: 12px;
    }
    .container {
      display: flex;
      flex-direction: row;
      gap: 20px;
      align-items: flex-start;
    }
    .markdown-box {
      flex: 1;
      background: #1c1f23;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #444;
      min-height: 300px;
      white-space: pre-wrap;
    }
    .grid {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .grid button {
      padding: 20px;
      font-size: 14px;
      background-color: #46d0cc;
      border: none;
      border-radius: 10px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
    }
    .grid button:nth-child(2),
    .grid button:nth-child(5),
    .grid button:nth-child(7) {
      background-color: #c3f3f1;
    }
    .grid .logo {
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .grid .logo img {
      width: 60%;
    }
    .loader {
      border: 5px solid #ccc;
      border-top: 5px solid #46d0cc;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      animation: spin 1s linear infinite;
      margin-bottom: 10px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .footer {
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      margin-top: 40px;
    }
    .footer a {
      color: #8ee4ff;
      margin-right: 16px;
      text-decoration: none;
    }
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="header">TONE–LITERACY–PLUGIN <span style="background:#3963f0; padding:2px 6px; border-radius:4px; font-size:14px;">DEMO</span></div>
  <div class="note">點擊下方文字按鈕進行分析模擬<br>Click the text below to see the tone-literacy-plugin.</div>

  <div class="container">
    <div class="markdown-box" id="markdownDisplay">
      <i>請點選右方句子進行語氣分析</i>
      <div id="loadingSpinner" style="display:none;"></div>
    </div>

    <div class="grid">
      <button onclick="classify('台灣的法定最低工資自 2024 年起為每月 27,470 元。')">台灣的法定最低工資<br>自 2024 年起為<br>每月 27,470 元。</button>
      <button onclick="classify('AI tools might soon replace over 50% of routine coding tasks.')">AI tools might soon replace over 50% of routine coding tasks.</button>
      <button onclick="classify('我認為他是我見過最有魅力的產品經理。')">我認為他是我見過最有魅力的產品經理。</button>
      <button onclick="classify('I honestly think this is the most beautifully designed laptop ever.')">I honestly think this is the most beautifully designed laptop ever.</button>
      <div class="logo"><img src="https://drive.google.com/uc?export=view&id=1ZUb1NDo9yBuF2R36ffAgs3NhTpcdCkfM" alt="logo" /></div>
      <button onclick="classify('想像一下，你成為首富的那一刻。')">想像一下，你成為首富的那一刻。</button>
      <button onclick="classify('Imagine a future where robots run entire governments without human input.')">Imagine a future where robots run entire governments without human input.</button>
      <button onclick="classify('According to IEEE, the USB4 protocol supports up to 40Gbps data transfer.')">According to IEEE, the USB4 protocol supports up to 40Gbps data transfer.</button>
    </div>
  </div>

  <div class="footer">
    <div>
      <strong>ENG</strong><br>
      <a href="https://lesswrong.com/">Lesswrong</a> |
      <a href="https://github.com/Erica-vegaos">Github</a> |
      <a href="https://medium.com/">Medium</a><br><br>
      <strong>中文</strong><br>
      <a href="https://www.instagram.com/ericaxvega">Instagram</a> |
      <a href="https://www.dcard.tw/@kk7493zzoo">Dcard</a> |
      <a href="https://www.notion.so/">Notion</a>
    </div>
    <div>
      <a href="https://www.instagram.com/erica.vega.logs">EN IG: @erica.vega.logs</a>
    </div>
  </div>
</body>
</html>
